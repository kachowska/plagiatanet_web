# ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: Lazy Load reCAPTCHA

## üìä –£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–°–æ–∑–¥–∞–Ω —Ö—É–∫ `useRecaptcha`** –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
   - –§–∞–π–ª: `hooks/useRecaptcha.ts`
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω –ª–∏ —É–∂–µ —Å–∫—Ä–∏–ø—Ç
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
   - TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è `window.grecaptcha`

2. **–û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `OrderForm`**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö—É–∫ –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç reCAPTCHA –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
   - –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç reCAPTCHA –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏

3. **–£–¥–∞–ª–µ–Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ `index.html`**
   - –£–±—Ä–∞–Ω `<script src="...recaptcha/api.js">`

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Network –∞–Ω–∞–ª–∏–∑:

| –°—Ç—Ä–∞–Ω–∏—Ü–∞ | reCAPTCHA –∑–∞–ø—Ä–æ—Å—ã | –≠–∫–æ–Ω–æ–º–∏—è |
|----------|-------------------|----------|
| **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** | ‚ùå –ù–ï –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | 346.6 KiB |
| **–ë–ª–æ–≥** | ‚ùå –ù–ï –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | 346.6 KiB |
| **–£—Å–ª—É–≥–∏** | ‚ùå –ù–ï –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | 346.6 KiB |
| **–§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞** | ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ | 0 KiB |

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

- ‚úÖ reCAPTCHA **–ù–ï** –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ reCAPTCHA –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è **–¢–û–õ–¨–ö–û** –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–æ—Ä–º—ã
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏..." –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ reCAPTCHA –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è reCAPTCHA)
- ‚úÖ min-height –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç layout shift –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
```
- Initial JS load: 546 KiB
- –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π JS: 296 KiB (229.2 KiB –æ—Ç reCAPTCHA)
- FCP: ~1.5s
- TBT: ~300ms
```

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
```
- Initial JS load: 317 KiB (-229 KiB, -42%)
- –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π JS: ~67 KiB (-229 KiB, -77%)
- FCP: –æ–∂–∏–¥–∞–µ—Ç—Å—è ~1.0s (-33%)
- TBT: –æ–∂–∏–¥–∞–µ—Ç—Å—è ~150ms (-50%)
```

## üîç Network Timeline

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:
```
1. index-DRsbic7S.js (289.67 KiB)
2. react-vendor-BQ7Ahbma.js (31.89 KiB)
3. cdn.tailwindcss.com (123.3 KiB)
4. fonts.googleapis.com (—à—Ä–∏—Ñ—Ç—ã)
5. images (Unsplash)
‚ùå recaptcha –ù–ï –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
```

### –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–æ—Ä–º—ã:
```
...16 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã...
6. recaptcha/api.js (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏)
7. gstatic.com/recaptcha/ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã)
‚úÖ reCAPTCHA –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
```

## üí° –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ:
- –≠–∫–æ–Ω–æ–º–∏—è 229.2 KiB –Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –±–µ–∑ —Ñ–æ—Ä–º—ã
- –£–ª—É—á—à–µ–Ω–∏–µ FCP –∏ TBT –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ layout shift –±–ª–∞–≥–æ–¥–∞—Ä—è min-height
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏

### –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
1. –î–æ–±–∞–≤–∏—Ç—å preconnect –¥–ª—è google.com –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ó–∞–∫–∞–∑–∞—Ç—å"
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Intersection Observer –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫ —Ñ–æ—Ä–º–µ
3. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –≤ Service Worker

## üìù –ö–æ–¥ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Preconnect –ø—Ä–∏ hover:
```typescript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Å –∫–Ω–æ–ø–∫–æ–π "–ó–∞–∫–∞–∑–∞—Ç—å"
const handleHover = () => {
  if (!document.querySelector('link[href*="google.com"]')) {
    const link = document.createElement('link');
    link.rel = 'preconnect';
    link.href = 'https://www.google.com';
    document.head.appendChild(link);
  }
};

<button onMouseEnter={handleHover}>–ó–∞–∫–∞–∑–∞—Ç—å</button>
```

## ‚úÖ –ò—Ç–æ–≥

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –≤–Ω–µ–¥—Ä–µ–Ω–∞!**

- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è **229.2 KiB** –Ω–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ Core Web Vitals (FCP, LCP, TBT)
- ‚úÖ –ù–µ—Ç –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –Ω–∞ UX
- ‚úÖ –§–æ—Ä–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –õ–µ–≥–∫–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **Deploy** –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ PageSpeed Insights
2. **Migrate Tailwind CDN** ‚Üí –ª–æ–∫–∞–ª—å–Ω—ã–π build (—ç–∫–æ–Ω–æ–º–∏—è ~110 KiB)
3. **Code Splitting** –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—ç–∫–æ–Ω–æ–º–∏—è ~30 KiB)

---

**–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** ~45 –º–∏–Ω—É—Ç  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è  
**–≠—Ñ—Ñ–µ–∫—Ç:** ‚ö°‚ö°‚ö° –í—ã—Å–æ–∫–∏–π  

üìä **–û–±—â–∞—è —ç–∫–æ–Ω–æ–º–∏—è –ø–æ—Å–ª–µ –≤—Å–µ—Ö 3 —ç—Ç–∞–ø–æ–≤: ~370 KiB (-68%)**
